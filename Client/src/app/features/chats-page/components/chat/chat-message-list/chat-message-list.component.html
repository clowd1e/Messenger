<div
    infiniteScroll
    [infiniteScrollDisabled]="messageListEndReached()"
    [infiniteScrollUpDistance]="1"
    [infiniteScrollThrottle]="500"
    (scrolledUp)="onScroll()"
    [scrollWindow]="false"
    class="message-list-container" #messageListContainer>
    @for (messageDto of messageDtos(); track messageDto.message.id) {
        <app-chat-message [messageDto]="messageDto" [currentUserId]="currentUserId"></app-chat-message>
    }
</div>